<!DOCTYPE html>
<html lang="nl" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="meta.title">Klaas de Jager ‚Äî Portfolio</title>
  <meta name="description" content="Portfolio van Klaas de Jager: technische bedrijfskunde, management en praktijkgerichte cases.">
  <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üåê</text></svg>"
  >

  <style>
    /* ---------- RESET & GLOBALS ---------- */
    *,*::before,*::after{box-sizing:border-box}
    html{scroll-behavior:auto}
    body{
      margin:0;
      min-height:100vh;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      line-height:1.6;
      color:var(--ink);
      background:var(--bg);
      transition:background-color .2s ease,color .2s ease;
      overflow-x:hidden;
    }
    img,picture,svg,video{display:block;max-width:100%;height:auto}
    input,button,textarea,select{font:inherit}
    a{color:inherit}

    :root{
      --bg:#ffffff;
      --ink:#0f172a;
      --muted:#475569;
      --brand:#78797b;
      --brand-ink:#ffffff;
      --surface:#f1f5f9;
      --ring:#93c5fd;
      --maxw:64rem;
      --radius:1.25rem;
      --shadow:0 10px 25px rgba(2,6,23,.08);
      --border:#e2e8f0;
    }

    html[data-theme="dark"]{
      --bg:#0b1220;
      --ink:#e5e7eb;
      --muted:#a3b2c2;
      --brand:#9aa0a6;
      --brand-ink:#0b1220;
      --surface:#111827;
      --ring:#60a5fa;
      --shadow:0 10px 25px rgba(0,0,0,.25);
      --border:#1f2937;
    }

    .container{
      width:100%;
      max-width:var(--maxw);
      margin-inline:auto;
      padding:clamp(16px,3vw,32px);
    }

    .grid{display:grid;gap:clamp(16px,2.5vw,24px)}
    .muted{color:var(--muted)}

    /* ---------- HEADER / NAV ---------- */
    header{
      position:sticky;
      top:0;
      z-index:1000;
      background:rgba(255,255,255,.9);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid var(--border);
    }
    html[data-theme="dark"] header{background:rgba(17,24,39,.9)}

    nav{
      display:grid;
      grid-template-columns:auto 1fr auto auto;
      align-items:center;
      gap:16px;
    }

    .brand{font-weight:700;letter-spacing:.2px;white-space:nowrap}

    .nav-links{
      display:flex;
      justify-self:end;
      gap:24px;
      flex-wrap:wrap;
    }
    .nav-links a{text-decoration:none;font-size:.95rem}
    .nav-links a:hover{text-decoration:underline}

    .lang-switch{display:flex;gap:10px;align-items:center;justify-self:end}
    .lang-switch a{
      font-size:1.25rem;
      text-decoration:none;
      transition:transform .15s ease,filter .15s ease;
      border-radius:8px;
      padding:2px 4px;
    }
    .lang-switch a:hover{transform:scale(1.07);filter:brightness(1.08)}
    .lang-switch a.active{
      outline:2px solid var(--ring);
      outline-offset:2px;
    }

    .theme-toggle{
      justify-self:end;
      background:transparent;
      border:1px solid transparent;
      cursor:pointer;
      font-size:1.1rem;
      line-height:1;
      padding:8px 10px;
      border-radius:10px;
    }
    .theme-toggle:hover{border-color:var(--border)}
    .theme-toggle:focus-visible{outline:2px solid var(--ring);outline-offset:3px}

    @media (max-width:640px){
      nav{grid-template-columns:1fr;row-gap:10px}
      .nav-links{justify-self:flex-start;gap:12px}
      .lang-switch{justify-self:flex-start}
      .theme-toggle{justify-self:flex-start}
      header .container{padding-inline:16px}
    }

    /* ---------- HERO ---------- */
    .hero{
      position:relative;
      overflow:hidden;
      padding:clamp(32px,6vw,80px) 0;
      background:linear-gradient(180deg,#ffffff 0%,#f8fafc 100%);
    }
    html[data-theme="dark"] .hero{
      background:linear-gradient(180deg,#0b1220 0%,#0f172a 100%);
    }

    .hero::before{
      content:"";
      position:absolute;inset:0;
      background-image:url("data:image/svg+xml,%3Csvg width='120' height='104' viewBox='0 0 120 104' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%2394a3b8' stroke-opacity='0.35' stroke-width='1'%3E%3Cpath d='M60 0l60 34v68l-60 34L0 102V34z'/%3E%3Cpath d='M0 34l60 34 60-34M0 102l60 34 60-34M60 68v68'/%3E%3C/g%3E%3C/svg%3E");
      background-repeat:repeat;background-size:160px 138px;
      opacity:.35;z-index:0;
    }
    html[data-theme="dark"] .hero::before{opacity:.16}

    .hero > *{position:relative;z-index:1}
    .hero h1{
      font-size:clamp(28px,5vw,44px);
      line-height:1.2;
      margin:0 0 12px 0;
    }
    .hero p{
      font-size:clamp(16px,2.2vw,20px);
      color:var(--muted);
      max-width:65ch;
      margin:0 0 20px 0;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 18px;
      border-radius:999px;
      background:var(--brand);
      color:var(--brand-ink);
      border:0;
      text-decoration:none;
      box-shadow:var(--shadow);
      cursor:pointer;
    }
    .btn:hover{filter:brightness(1.03)}
    .btn:active{transform:translateY(1px)}
    .btn:focus-visible{outline:4px solid var(--ring);outline-offset:2px}

    /* ---------- SECTIONS ---------- */
    section{scroll-margin-top:90px}

    /* ---------- BACKGROUND (Focus blocks only) ---------- */
    #features{padding-block:32px}
    #features h2{margin:0 0 14px 0}
    #features .intro{margin:0 0 20px 0;max-width:70ch;color:var(--muted)}

    .focus-grid{
      display:grid;
      gap:16px;
      grid-template-columns:repeat(1,minmax(0,1fr));
    }
    @media (min-width:768px){
      .focus-grid{grid-template-columns:repeat(3,minmax(0,1fr))}
    }

    .focus-card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:16px;
      padding:20px;
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      min-height:180px;
    }
    .focus-card:hover{
      transform:translateY(-3px);
      box-shadow:0 12px 22px rgba(0,0,0,.08);
      border-color:rgba(96,165,250,.6);
    }
    .focus-icon{
      width:38px;height:38px;
      border-radius:12px;
      display:flex;align-items:center;justify-content:center;
      background:rgba(120,121,123,.14);
      border:1px solid rgba(120,121,123,.22);
      font-size:18px;
      margin-bottom:10px;
    }
    .focus-card h3{margin:0 0 6px 0;font-size:1.02rem}
    .focus-card p{margin:0;color:var(--muted);font-size:.96rem}

    /* ---------- CASES ---------- */
    #cases{padding-block:32px}
    .cases-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:24px;
      margin-top:18px;
    }
    @media (max-width:768px){.cases-grid{grid-template-columns:1fr}}

    .case{
      display:flex;
      flex-direction:column;
      text-decoration:none;
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow:0 4px 10px rgba(0,0,0,0.05);
      overflow:hidden;
      transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;
      color:inherit;
    }
    .case img{width:100%;aspect-ratio:16/9;object-fit:cover}
    .case h3{font-size:1.1rem;font-weight:650;color:var(--ink);padding:12px 16px 0;margin:0}
    .case p{padding:0 16px 16px;color:var(--muted);font-size:.95rem;margin:0}
    .case:hover{transform:translateY(-4px);box-shadow:0 14px 24px rgba(0,0,0,0.10);border-color:rgba(96,165,250,.6)}

    /* ---------- CONTACT CTA ---------- */
    #contact{margin-block:40px}
    .cta{
      background:#0b1220;
      color:white;
      border-radius:var(--radius);
      padding:clamp(20px,3vw,28px);
    }
    .contact-intro{
      max-width:540px;
      margin-top:8px;
      margin-bottom:24px;
      color:#cbd5f5;
    }
    .contact-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:24px;
      margin-top:8px;
    }
    .contact-card{
      background:#020617;
      border-radius:16px;
      border:1px solid #1f2937;
      text-decoration:none;
      color:#e5e7eb;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      gap:10px;
      min-height:220px;
      padding:20px;
      transition:transform .15s ease,border-color .15s ease,box-shadow .15s ease;
    }
    .contact-card:hover{
      transform:translateY(-4px);
      border-color:#38bdf8;
      box-shadow:0 16px 30px rgba(15,23,42,0.6);
    }

    /* ---------- FOOTER & A11Y ---------- */
    footer{
      padding:32px 0;
      border-top:1px solid var(--border);
      color:#64748b;
    }
    .skip-link{
      position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;
    }
    .skip-link:focus{
      left:16px;top:16px;width:auto;height:auto;padding:10px 14px;
      background:#111827;color:white;border-radius:10px;z-index:1001;
    }
    @media (prefers-reduced-motion:no-preference){
      .float-in{animation:floatIn .6s ease-out both}
      @keyframes floatIn{
        from{opacity:0;transform:translateY(8px)}
        to{opacity:1;transform:translateY(0)}
      }
    }
  </style>
</head>

<body>
  <a href="#main" class="skip-link" data-i18n="a11y.skip">Direct naar inhoud</a>

  <header>
    <div class="container">
      <nav aria-label="Hoofdnavigatie">
        <div class="brand">Klaas de Jager</div>

        <div class="nav-links">
          <a href="#features" data-i18n="nav.features">Achtergrond</a>
          <a href="#cases" data-i18n="nav.cases">Ervaring</a>
          <a href="#contact" data-i18n="nav.contact">Contact</a>
        </div>

        <div class="lang-switch" aria-label="Taal kiezen">
          <a href="#" data-lang="nl" aria-label="Nederlands">üá≥üá±</a>
          <a href="#" data-lang="en" aria-label="English">üá¨üáß</a>
          <button id="themeToggle" class="theme-toggle" type="button" aria-label="Toggle theme">üåô</button>
        </div>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="hero">
      <div class="container grid">
        <div class="float-in">
          <h1 data-i18n="hero.title">Wie ben ik?<br>Ik ben Klaas.</h1>
          <p data-i18n="hero.subtitle">
            Ik ontwikkel mij in het oplossen van praktische problemen en het slimmer maken van processen.
          </p>
          <a class="btn" href="#contact" aria-label="Neem contact op" data-i18n="cta.start">Neem contact op!</a>
        </div>
      </div>
    </section>

    <section id="features" class="container" aria-labelledby="features-title">
      <h2 id="features-title" data-i18n="features.title">Achtergrond</h2>

      <div class="focus-grid">
        <article class="focus-card" aria-labelledby="f-ops">
          <h3 id="f-ops" data-i18n="focus.ops.title">Operations & procesverbetering</h3>
          <p data-i18n="focus.ops.body">
            Processen analyseren, knelpunten zichtbaar maken en versimpelen waar mogelijk. Van structuur naar meetbare verbetering.
          </p>
        </article>

        <article class="focus-card" aria-labelledby="f-fin">
          <h3 id="f-fin" data-i18n="focus.fin.title">Finance focus</h3>
          <p data-i18n="focus.fin.body">
            Beslissingen onderbouwen met data. Inzicht in risico, rendement en performance als basis voor betere keuzes.
          </p>
        </article>

        <article class="focus-card" aria-labelledby="f-ent">
          <h3 id="f-ent" data-i18n="focus.ent.title">Ondernemerschap</h3>
          <p data-i18n="focus.ent.body">
            Ownership nemen, kansen signaleren en idee√´n omzetten in actie. Praktisch denken met resultaatgerichtheid.
          </p>
        </article>
      </div>
    </section>

    <section id="cases" class="container" aria-labelledby="cases-title">
      <h2 id="cases-title" data-i18n="cases.title">Ervaring</h2>

      <div class="cases-grid">
        <a href="Ernst.html" class="case">
          <img src="Images/Een1.jpg" alt="Overzicht van een Azure-dashboard">
          <h3 data-i18n="cases.one.title">Scriptiestage bij Ernst &amp; Young</h3>
          <p data-i18n="cases.one.body">
            Ondersteunde het Technology Risk team bij technische controls en schreef een scriptie over het verbeteren van het onboardingproces van de afdeling (Landelijk)
          </p>
        </a>

        <a href="MSD.html" class="case">
          <img src="Images/msd.jpg" alt="Overzicht van beveiligingsalerts">
          <h3 data-i18n="cases.two.title">Derdejaars stage bij MSD</h3>
          <p data-i18n="cases.two.body">
            Maakte de FTE-inzet binnen Capex-projecten volledig inzichtelijk. Ontwikkelde en verfijnde een Excel/VBA-tool die het planningsproces duidelijker en effici√´nter maakte.
          </p>
        </a>

        <a href="Hak.html" class="case">
          <img src="Images/hak.jpg" alt="Dashboard voor asset- en fleetmanagement">
          <h3 data-i18n="cases.three.title">Werkvoorbereider bij A. Hak</h3>
          <p data-i18n="cases.three.body">
            Planningen afstemmen, knelpunten bespreken en informatie verduidelijken. Ik was de schakel tussen het kantoor en de ploegen buiten
          </p>
        </a>

        <a href="Tuin.html" class="case">
          <img src="Images/Vier.jpg" alt="Overzicht van monitoringtools">
          <h3 data-i18n="cases.four.title">Horecamedewerker bij Tuindiners</h3>
          <p data-i18n="cases.four.body">Procesoptimalisatie, gastenervaring en operationele performance.</p>
        </a>

        <a href="hva.html" class="case">
          <img src="Images/hva.jpg" alt="Studieomgeving of campusbeeld">
          <h3 data-i18n="cases.five.title">Hogeschool van Amsterdam</h3>
          <p data-i18n="cases.five.body">
            Bachelor Engineering: Technische bedrijfskunde. Het combineren van techniek, operations en management om complexe bedrijfsprocessen te verbeteren.
          </p>
        </a>

        <a href="Nyenrode.html" class="case">
          <img src="Images/Nyen.jpg" alt="Nyenrode of studieomgeving">
          <h3 data-i18n="cases.six.title">Nyenrode</h3>
          <p data-i18n="cases.six.body">
            Pre-Masterprogramma en Master of Science (MSc) in Management
          </p>
        </a>
      </div>
    </section>

    <section id="contact" class="cta container" aria-labelledby="contact-title">
      <h2 id="contact-title" data-i18n="contact.title">Neem contact op</h2>
      <p class="contact-intro" data-i18n="contact.intro">
        Wil je meer weten, sparren of gewoon even kennismaken? Kies het kanaal dat het beste bij je past.
      </p>

      <div class="contact-grid">
        <a href="mailto:Klaas.dejager10@gmail.com" class="contact-card">
          <h3 data-i18n="contact.email.title">E-mail</h3>
          <p data-i18n="contact.email.body">Klaas.dejager10@gmail.com</p>
        </a>

        <a href="https://nl.linkedin.com/in/klaas-de-jager" target="_blank" rel="noreferrer" class="contact-card">
          <h3 data-i18n="contact.linkedin.title">LinkedIn</h3>
          <p data-i18n="contact.linkedin.body">Bekijk mijn profiel en netwerk.</p>
        </a>

        <a href="https://calendly.com/klaas-dejager10/30min" target="_blank" rel="noreferrer" class="contact-card">
          <h3 data-i18n="contact.call.title">Plan een gesprek</h3>
          <p data-i18n="contact.call.body">Boek direct een online kennismaking van 30 minuten.</p>
        </a>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <small>
        &copy; <span id="year"></span> Klaas de Jager ‚Äî
        <span data-i18n="footer.rights">Alle rechten voorbehouden.</span>
      </small>
    </div>
  </footer>

  <script>
    // ---------- YEAR ----------
    document.getElementById("year").textContent = new Date().getFullYear();

    // ---------- I18N DICTIONARY ----------
    const i18n = {
      en: {
        "meta.title": "Klaas de Jager ‚Äî Portfolio",
        "a11y.skip": "Skip to content",
        "nav.features": "Background",
        "nav.cases": "Experience",
        "nav.contact": "Contact",

        "hero.title": "Who am I?<br>I am Klaas.",
        "hero.subtitle": "I develop myself by solving practical problems and making processes smarter.",
        "cta.start": "Get in touch",

        "features.title": "Background",
        "focus.ops.title": "Operations & process improvement",
        "focus.ops.body": "Analyze processes, make bottlenecks visible, and simplify where possible. From structure to measurable improvement.",
        "focus.fin.title": "Finance focus",
        "focus.fin.body": "Data-backed decisions. Understanding risk, return, and performance as a basis for better choices.",
        "focus.ent.title": "Entrepreneurship",
        "focus.ent.body": "Take ownership, spot opportunities, and turn ideas into action. Practical thinking with a results mindset.",

        "cases.title": "Experience",
        "cases.one.title": "Thesis internship at Ernst & Young",
        "cases.one.body": "Supported the Technology Risk team with technical controls and wrote a thesis on improving the department‚Äôs onboarding process (nationwide).",
        "cases.two.title": "Third-year internship at MSD",
        "cases.two.body": "Made FTE deployment within Capex projects fully transparent. Developed and refined an Excel/VBA tool that made the planning process clearer and more efficient.",
        "cases.three.title": "Work planner at A. Hak",
        "cases.three.body": "Coordinated schedules, discussed bottlenecks, and clarified information. I was the link between the office and the field crews.",
        "cases.four.title": "Hospitality role at Tuindiners",
        "cases.four.body": "Process optimization, guest experience, and operational performance.",
        "cases.five.title": "Amsterdam University of Applied Sciences",
        "cases.five.body": "BSc Engineering: Industrial Engineering & Management. Combining technology, operations, and management to improve complex business processes.",
        "cases.six.title": "Nyenrode",
        "cases.six.body": "Pre-Master program and Master of Science (MSc) in Management.",

        "contact.title": "Get in touch",
        "contact.intro": "Want to know more, spar about an idea, or just get acquainted? Pick the channel that suits you best.",
        "contact.email.title": "Email",
        "contact.email.body": "Klaas.dejager10@gmail.com",
        "contact.linkedin.title": "LinkedIn",
        "contact.linkedin.body": "View my profile and network.",
        "contact.call.title": "Schedule a call",
        "contact.call.body": "Book a 30-minute online introduction right away.",

        "footer.rights": "All rights reserved."
      },

      nl: {
        "meta.title": "Klaas de Jager ‚Äî Portfolio",
        "a11y.skip": "Direct naar inhoud",
        "nav.features": "Achtergrond",
        "nav.cases": "Ervaring",
        "nav.contact": "Contact",

        "hero.title": "Wie ben ik?<br>Ik ben Klaas.",
        "hero.subtitle": "Ik ontwikkel mij in het oplossen van praktische problemen en het slimmer maken van processen.",
        "cta.start": "Neem contact op!",

        "features.title": "Achtergrond",
        "focus.ops.title": "Operations & procesverbetering",
        "focus.ops.body": "Processen analyseren, knelpunten zichtbaar maken en versimpelen waar mogelijk. Van structuur naar meetbare verbetering.",
        "focus.fin.title": "Finance focus",
        "focus.fin.body": "Beslissingen onderbouwen met data. Inzicht in risico, rendement en performance als basis voor betere keuzes.",
        "focus.ent.title": "Ondernemerschap",
        "focus.ent.body": "Ownership nemen, kansen signaleren en idee√´n omzetten in actie. Praktisch denken met resultaatgerichtheid.",

        "cases.title": "Ervaring",
        "cases.one.title": "Scriptiestage bij Ernst & Young",
        "cases.one.body": "Ondersteunde het Technology Risk team bij technische controls en schreef een scriptie over het verbeteren van het onboardingproces van de afdeling (landelijk).",
        "cases.two.title": "Derdejaars stage bij MSD",
        "cases.two.body": "Maakte de FTE-inzet binnen Capex-projecten volledig inzichtelijk. Ontwikkelde en verfijnde een Excel/VBA-tool die het planningsproces duidelijker en effici√´nter maakte.",
        "cases.three.title": "Werkvoorbereider bij A. Hak",
        "cases.three.body": "Planningen afstemmen, knelpunten bespreken en informatie verduidelijken. Ik was de schakel tussen het kantoor en de ploegen buiten.",
        "cases.four.title": "Horecamedewerker bij Tuindiners",
        "cases.four.body": "Procesoptimalisatie, gastenervaring en operationele performance.",
        "cases.five.title": "Hogeschool van Amsterdam",
        "cases.five.body": "Bachelor Engineering: Technische bedrijfskunde. Het combineren van techniek, operations en management om complexe bedrijfsprocessen te verbeteren.",
        "cases.six.title": "Nyenrode",
        "cases.six.body": "Pre-Masterprogramma en Master of Science (MSc) in Management",

        "contact.title": "Neem contact op",
        "contact.intro": "Wil je meer weten, sparren of gewoon even kennismaken? Kies het kanaal dat het beste bij je past.",
        "contact.email.title": "E-mail",
        "contact.email.body": "Klaas.dejager10@gmail.com",
        "contact.linkedin.title": "LinkedIn",
        "contact.linkedin.body": "Bekijk mijn profiel en netwerk.",
        "contact.call.title": "Plan een gesprek",
        "contact.call.body": "Boek direct een online kennismaking van 30 minuten.",

        "footer.rights": "Alle rechten voorbehouden."
      }
    };

    // ---------- LANGUAGE ----------
    function applyLang(lang){
      const dict = i18n[lang] || i18n.en;

      document.documentElement.lang = lang;
      localStorage.setItem("lang", lang);

      const titleTag = document.querySelector("title[data-i18n='meta.title']");
      if(titleTag && dict["meta.title"]) titleTag.textContent = dict["meta.title"];

      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        const val = dict[key];
        if(!val) return;

        const isField = (el.tagName === "INPUT" || el.tagName === "TEXTAREA");
        if(isField && el.hasAttribute("placeholder")){
          el.placeholder = val;
        }else{
          el.innerHTML = val;
        }
      });

      document.querySelectorAll(".lang-switch a[data-lang]").forEach(a=>{
        a.classList.toggle("active", a.dataset.lang === lang);
      });
    }

    const savedLang = localStorage.getItem("lang");
    const fallbackLang = (navigator.language || "en").toLowerCase().startsWith("nl") ? "nl" : "en";
    applyLang(savedLang || fallbackLang || "en");

    document.querySelectorAll(".lang-switch a[data-lang]").forEach(a=>{
      a.addEventListener("click", e=>{
        e.preventDefault();
        applyLang(a.dataset.lang);
      });
    });

    // ---------- THEME ----------
    const themeBtn = document.getElementById("themeToggle");

    function applyTheme(theme){
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      if(themeBtn) themeBtn.textContent = theme === "dark" ? "‚òÄÔ∏è" : "üåô";
    }

    (function initTheme(){
      const saved = localStorage.getItem("theme");
      if(saved){
        applyTheme(saved);
        return;
      }
      const systemDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(systemDark ? "dark" : "light");
    })();

    const mm = window.matchMedia("(prefers-color-scheme: dark)");
    if(mm.addEventListener){
      mm.addEventListener("change", e=>{
        if(!localStorage.getItem("theme")){
          applyTheme(e.matches ? "dark" : "light");
        }
      });
    }

    themeBtn?.addEventListener("click", ()=>{
      const current = document.documentElement.getAttribute("data-theme") || "light";
      applyTheme(current === "dark" ? "light" : "dark");
    });

    // ---------- SMOOTH SCROLL WITH OFFSET (FIX: skip href="#" and invalid selectors) ----------
    document.querySelectorAll('a[href^="#"]').forEach(anchor=>{
      anchor.addEventListener("click", function(e){
        const href = this.getAttribute("href");

        // FIX: ignore pure "#"
        if(!href || href === "#") return;

        let target = null;
        try{
          target = document.querySelector(href);
        }catch(_){
          return; // invalid selector, do nothing
        }
        if(!target) return;

        e.preventDefault();
        const headerOffset = 86;
        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerOffset;

        const start = window.pageYOffset;
        const distance = targetPosition - start;
        const duration = 750;
        let startTime = null;

        function smoothStep(timestamp){
          if(!startTime) startTime = timestamp;
          const progress = Math.min((timestamp - startTime) / duration, 1);
          const ease = 0.5 - Math.cos(progress * Math.PI) / 2;
          window.scrollTo(0, start + distance * ease);
          if(progress < 1) requestAnimationFrame(smoothStep);
        }
        requestAnimationFrame(smoothStep);
      });
    });
  </script>
</body>
</html>
